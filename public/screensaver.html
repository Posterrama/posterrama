<!doctype html>
<!-- posterrama.app | Author: Posterrama Team | License: GPL-3.0-or-later -->
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Posterrama - Screensaver</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
        <link rel="manifest" href="/manifest.json" />
        <link rel="icon" type="image/svg+xml" href="/icons/posterrama-icon.svg?v=3" />
        <link rel="icon" type="image/x-icon" href="/favicon.ico?v=3" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&family=Kalam:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <script src=\"/client-logger.js\"></script>
    <link rel=\"stylesheet\" href=\"style.css?v={{ASSET_VERSION}}\" />
    <link rel=\"stylesheet\" href=\"/screensaver/screensaver.css?v={{ASSET_VERSION}}\" />
    
    <!-- Global Error Handler -->
    <script type=\"module\" src=\"/error-handler.js\"></script>
    </head>
    <body data-mode=\"screensaver\">
        <div id="loader"><div class="poster-loader"></div></div>
        <div id="error-message" class="is-hidden"></div>
        <div id="layer-a" class="screensaver-layer"></div>
        <div id="layer-b" class="screensaver-layer"></div>
        <div id="clock-widget-container">
            <div id="time-widget">
                <span id="time-hours">00</span>
                <span id="time-separator">:</span>
                <span id="time-minutes">00</span>
            </div>
        </div>
        <div id="clearlogo-container"><img id="clearlogo" src="" alt="ClearLogo" /></div>
        <div id="info-container">
            <div id="poster-wrapper">
                <a id="poster-link" href="#" target="_blank" rel="noopener noreferrer">
                    <div id="poster-a" class="poster-layer"></div>
                    <div id="poster-b" class="poster-layer"></div>
                    <div id="poster"></div>
                </a>
            </div>
            <div id="text-wrapper">
                <h1 id="title"></h1>
                <p id="tagline"></p>
                <div id="meta-info">
                    <span id="year"></span>
                    <span id="rating"></span>
                </div>
            </div>
        </div>
        <div id="controls-container">
            <button id="prev-button" aria-label="Previous">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                </svg>
            </button>
            <button id="pause-button" aria-label="Pause/Resume">
                <svg class="icon-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
                <svg class="icon-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8 5v14l11-7z" />
                </svg>
            </button>
            <button id="next-button" aria-label="Next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z" />
                </svg>
            </button>
        </div>
        <div id="branding-container" style="display:none"></div>
    <script src="lazy-loading.js?v={{ASSET_VERSION}}"></script>
    <script src="device-mgmt.js?v={{ASSET_VERSION}}"></script>
    <script src="/core.js?v={{ASSET_VERSION}}"></script>
    <script>
        // Load promo overlay if enabled (typically port 4001 promo site)
        (async function() {
            try {
                const cfg = await window.PosterramaCore.fetchConfig();
                if (cfg && cfg.promoBoxEnabled === true) {
                    window.PosterramaCore.loadPromoOverlay(cfg);
                }
            } catch (e) {
                /* ignore */
            }
        })();
    </script>
    <script src="/screensaver/screensaver.js?v={{ASSET_VERSION}}"></script>
    <script>
                // Hint for SW stamping: server stamps this path in routed responses
        try { window.__swUrl = '/sw.js?v={{ASSET_VERSION}}'; } catch (e) {}
    </script>
    
    <!-- Screensaver initialization -->
    <script type="module">
        import { initScreensaver } from './screensaver-bootstrap.js';
        
        // Set mode hint
        window.MODE_HINT = 'screensaver';
        
        // Start screensaver when DOM ready
        initScreensaver();
    </script>
    </script>
    <script>
        // start is now invoked by the bootstrap above
    </script>
        <script>
            window.MODE_HINT='screensaver';
            try { window.PosterramaCore && window.PosterramaCore.startAutoExitPoll({ currentMode: 'screensaver', intervalMs: 15000 }); } catch (e) {}
        </script>
    </body>
</html>
