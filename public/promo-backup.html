<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Posterrama - Promo Site</title>
    
    <!-- Preconnects for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&family=Kalam:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="stylesheet" href="style.css?v=20250819b">
    <style>
        #loader { display: none !important; }
        
        /* FORCE promo box to be visible - ALWAYS override any script changes */
        #promo-box {
            display: block !important;
            opacity: 1 !important;
            transform: translate(-50%, -50%) scale(1) !important;
            z-index: 99999 !important;
            visibility: visible !important;
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
        }
        
        /* COMPLETELY BLOCK wallart mode on promo site */
        body.wallart-mode #poster-wrapper,
        body.wallart-mode #layer-a,
        body.wallart-mode #layer-b,
        body.wallart-mode #background-image,
        body.wallart-mode .background-layer,
        body.wallart-mode #clearlogo-container,
        body.wallart-mode #info-container,
        body.wallart-mode #controls-container,
        body.wallart-mode #widget-container,
        body.cinema-mode #poster-wrapper,
        body.cinema-mode #layer-a,
        body.cinema-mode #layer-b,
        body.cinema-mode #background-image,
        body.cinema-mode .background-layer,
        body.cinema-mode #clearlogo-container,
        body.cinema-mode #info-container,
        body.cinema-mode #controls-container,
        body.cinema-mode #widget-container {
            display: block !important;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        /* FORCE screensaver elements to be visible ALWAYS */
        #info-container,
        #poster-wrapper,
        #controls-container,
        #widget-container,
        #clearlogo-container,
        #layer-a,
        #layer-b,
        #background-image {
            display: block !important;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        /* FIX positioning to match main site exactly - FORCE EVERYTHING */
        #info-container {
            position: fixed !important;
            bottom: 0px !important;              /* Match main site */
            left: 50px !important;               /* Match main site */
            right: 50px !important;              /* Match main site */
            top: 50px !important;                /* Match main site */
            z-index: 5 !important;               /* Match main site */
            display: flex !important;
            align-items: flex-end !important;
            gap: calc(40px * var(--content-scale)) !important; /* Match main site scaling */
            margin: 0 !important;
            padding-bottom: 50px !important;     /* Match main site */
            overflow: hidden !important;         /* Match main site */
            opacity: 0 !important;               /* Start hidden for animation */
            transform: translateY(20px) !important; /* Start offset for animation */
            transition: opacity 0.8s ease-out, transform 0.8s ease-out !important; /* Match main site transition */
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8) !important;
        }
        
        #info-container.visible,
        body.screensaver-mode #info-container.visible,
        body.promo-site #info-container.visible {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }
        
        body.screensaver-mode #info-container,
        body.promo-site #info-container {
            display: flex !important;
            align-items: flex-end !important;
            gap: calc(40px * var(--content-scale)) !important; /* Match main site scaling */
        }
        
        /* FIX CONTROLS - make them horizontal with auto-hide transition */
        #controls-container {
            position: fixed !important;
            bottom: 35px !important;
            right: 50px !important;
            display: flex !important;
            flex-direction: row !important;
            gap: 15px !important;
            background-color: rgba(0, 0, 0, 0.3) !important;
            padding: 8px 15px !important;
            border-radius: 50px !important;
            backdrop-filter: blur(5px) !important;
            opacity: 0 !important;              /* Start hidden */
            transform: translateY(10px) !important; /* Start slightly down */
            z-index: 20 !important;
            visibility: hidden !important;      /* Start hidden */
            transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease !important;
        }
        
        #controls-container.visible {
            opacity: 1 !important;
            transform: translateY(0) !important;
            visibility: visible !important;
        }
        
        body.screensaver-mode #controls-container,
        body.promo-site #controls-container {
            display: flex !important;
            flex-direction: row !important;
        }
        
        /* ENABLE KEN BURNS EFFECT */
        .screensaver-layer[data-ken-burns="true"] {
            animation-play-state: running !important;
        }
    </style>
    
    <script>
        // Simple promo mode with minimal interference
        function initPromoSite() {
            // Set correct body classes
            document.body.classList.remove('wallart-mode', 'cinema-mode');
            document.body.classList.add('screensaver-mode', 'promo-site');
            
            // Show promo box
            const promoBox = document.getElementById('promo-box');
            if (promoBox) {
                promoBox.style.display = 'block';
                promoBox.style.opacity = '1';
                promoBox.style.visibility = 'visible';
                promoBox.classList.remove('is-hidden');
            }
            
            // Setup controls auto-hide (one time only)
            const controlsContainer = document.getElementById('controls-container');
            if (controlsContainer && !controlsContainer._promoSetup) {
                controlsContainer._promoSetup = true; // Mark as setup to avoid re-setup
                
                let controlsTimer = null;
                
                function showControls() {
                    controlsContainer.classList.add('visible');
                    document.body.style.cursor = 'default';
                    clearTimeout(controlsTimer);
                    controlsTimer = setTimeout(() => {
                        controlsContainer.classList.remove('visible');
                        document.body.style.cursor = 'none';
                    }, 3000);
                }
                
                document.body.addEventListener('mousemove', showControls);
                document.body.addEventListener('touchstart', showControls, { passive: true });
                showControls(); // Show initially
            }
            
            console.log('âœ… Promo site initialized - main script.js handles all media/layer transitions');
        }
        
        // Block mode switching functions
        window.showWallartMode = function() {
            console.log('BLOCKED: wallart mode on promo site');
            initPromoSite();
        };
        
        window.showCinemaMode = function() {
            console.log('BLOCKED: cinema mode on promo site');
            initPromoSite();
        };
        
        // Initialize on load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initPromoSite);
        } else {
            initPromoSite();
        }
        
        window.addEventListener('load', initPromoSite);
        
        // Minimal periodic check - only fix body classes if needed
        setInterval(() => {
            if (!document.body.classList.contains('screensaver-mode') || 
                document.body.classList.contains('wallart-mode') || 
                document.body.classList.contains('cinema-mode')) {
                document.body.classList.remove('wallart-mode', 'cinema-mode');
                document.body.classList.add('screensaver-mode', 'promo-site');
            }
        }, 10000); // Very infrequent - just safety check
    </script>
    </script>
</head>
<body>
    <div id="loader" style="display: none;"></div>
    <div id="error-message" class="is-hidden"></div>

    <main id="promo-box" class="is-hidden" style="display: none;">
        <header class="promo-logo">
            <svg role="img" aria-label="Posterrama Digital Movie Poster App Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6 2H16L14 22H4L6 2Z"/><path d="M10 2H20L18 22H8L10 2Z" style="mix-blend-mode: screen; opacity: 0.6;"/></svg>
        </header>
        <h1>Bring your media library to life.</h1>
        <p>This is <span class="promo-brand-name">Posterrama</span>, a stunning, self-hosted digital movie<span class="movie-extensions">+ music & games</span> poster app that transforms your screens into personal cinemas and elegant screensavers.</p>
        
        <!-- Hidden SEO content -->
        <div class="seo-content" style="position: absolute; left: -9999px; top: -9999px;">
            <h2>Features</h2>
            <ul>
                <li>Digital movie poster displays for home theaters</li>
                <li>Cinema mode for portrait orientation screens</li>
                <li>Beautiful screensavers from your media collection</li>
                <li>Self-hosted media management</li>
                <li>Plex media server integration</li>
                <li>Multi-screen support for digital signage</li>
                <li>Responsive design for all devices</li>
                <li>Open source and free to use</li>
            </ul>
            
            <h2>Perfect for</h2>
            <ul>
                <li>Home theater enthusiasts</li>
                <li>Media room displays</li>
                <li>Digital signage projects</li>
                <li>Plex server companions</li>
                <li>Movie collection showcases</li>
                <li>Personal cinema setups</li>
            </ul>
        </div>
        
        <section class="promo-cta">
            <a href="https://github.com/Posterrama/posterrama" target="_blank" rel="noopener noreferrer" class="button-promo" aria-label="Download Posterrama from GitHub">
                <i class="fab fa-github"></i>
                Get it on GitHub
            </a>
        </section>
    </main>

    <div id="layer-a" class="screensaver-layer"></div>
    <div id="layer-b" class="screensaver-layer"></div>
    <div id="background-image"></div>

    <div id="widget-container">
        <div id="time-widget">
            <span id="time-hours">00</span>
            <span id="time-separator">:</span>
            <span id="time-minutes">00</span>
        </div>
    </div>

    <div id="clearlogo-container">
        <img id="clearlogo" src="" alt="ClearLogo">
    </div>

    <div id="info-container">
        <div id="poster-wrapper">
            <a id="poster-link" href="#" target="_blank">
                <div id="poster-a" class="poster-layer"></div>
                <div id="poster-b" class="poster-layer"></div>
                <div id="poster"></div>
            </a>
        </div>
        <div id="text-wrapper">
            <h1 id="title"></h1>
            <p id="tagline"></p>
            <div id="meta-info">
                <span id="year"></span>
                <span id="rating"></span>
            </div>
        </div>
    </div>

    <div id="controls-container">
        <button id="prev-button" aria-label="Previous">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
        </button>
        <button id="pause-button" aria-label="Pause/Resume">
            <svg class="icon-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            <svg class="icon-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
        </button>
        <button id="next-button" aria-label="Next">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"/></svg>
        </button>
    </div>

    <div id="branding-container">
        <a href="https://posterrama.app" target="_blank" rel="noopener noreferrer" title="posterrama.app">
            <svg role="img" aria-label="posterrama.app Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6 2H16L14 22H4L6 2Z"/><path d="M10 2H20L18 22H8L10 2Z" style="mix-blend-mode: screen; opacity: 0.6;"/></svg>
        </a>
    </div>

    <script src="script.js?v=20250819b"></script>
</body>
</html>
