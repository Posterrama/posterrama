<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <title>Posterrama - Promo Site</title>

        <!-- Preconnects for performance -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&family=Kalam:wght@400;700&display=swap"
            rel="stylesheet"
        />

        <!-- Font Awesome for icons -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
            integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />

        <link rel="stylesheet" href="style.css?v=20250822b" />
        <style>
            /* Cache buster: mobile oneliner transparent - 10:25 */
            #loader {
                display: none !important;
            }

            /* FORCE promo box to be visible - ALWAYS override any script changes */
            #promo-box {
                display: block !important;
                opacity: 1 !important;
                transform: translate(-50%, -50%) scale(1) !important;
                z-index: 99999 !important;
                visibility: visible !important;
                position: fixed !important;
                top: 50% !important;
                left: 50% !important;
            }

            /* Mobile promo box styling - optimal size and prominent text on mobile */
            @media screen and (max-width: 1024px) {
                /* Force parent body to allow full width */
                body {
                    margin: 0 !important;
                    padding: 0 !important;
                    overflow-x: hidden !important;
                }
                
                /* Force promo box to use full screen width with small edge margin */
                body #promo-box,
                body main#promo-box {
                    width: calc(100vw - 10px) !important; /* Almost full width for maximum text space */
                    max-width: none !important;
                    padding: 50px 15px !important; /* Much more vertical padding top/bottom for breathing room */
                    box-sizing: border-box !important;
                    min-height: auto !important; /* Remove forced height, let content determine size */
                    margin: 0 5px !important; /* Minimal margin on each side */
                    position: relative !important;
                    left: 50% !important;
                    right: auto !important;
                    transform: translateX(-50%) !important; /* Center it perfectly */
                    margin-left: 0 !important;
                    margin-right: 0 !important;
                }
                
                /* Make text exactly like old version */
                body #promo-box h1 {
                    font-size: 3.8em !important; /* Big title like old version */
                    margin-bottom: 15px !important; /* More margin below title */
                    line-height: 1.0 !important;
                    font-weight: bold !important;
                    /* Remove white-space restrictions to allow natural wrapping */
                }
                
                body #promo-box p {
                    font-size: 2.2em !important; /* Big text like old version */
                    line-height: 1.2 !important;
                    margin-bottom: 25px !important; /* More margin below paragraph */
                    max-width: none !important;
                    text-align: center !important;
                    /* Remove word-spacing and let it flow naturally */
                }
                
                /* Make button bigger with more padding */
                body #promo-box .promo-cta a.button-promo {
                    font-size: 2.0em !important; /* Bigger button text */
                    padding: 25px 50px !important; /* Much more padding around button */
                    margin-top: 20px !important; /* More margin above button */
                    margin-bottom: 10px !important; /* Add margin below button for bottom spacing */
                    display: inline-block !important;
                }
                
                /* Make logo bigger with more space around it */
                body #promo-box .promo-logo {
                    width: 90px !important; /* Bigger logo */
                    height: 90px !important;
                    margin-bottom: 20px !important; /* More margin below logo */
                    margin-top: 15px !important; /* More margin above logo for top spacing */
                }
                
                /* Mobile-specific oneliner styling - FORCE transparent */
                body.promo-site #promo-box .oneliner-text {
                    font-size: 0.9em !important; /* Even smaller font for mobile */
                }
                
                body.promo-site #promo-box .oneliner-command {
                    background: transparent !important; /* No background on mobile */
                    backdrop-filter: none !important;
                    -webkit-backdrop-filter: none !important;
                    border: none !important;
                    border-radius: 0 !important;
                    padding: 8px 30px 8px 8px !important; /* Minimal padding */
                    box-shadow: none !important;
                }
                
                body.promo-site #promo-box .oneliner-command:hover {
                    background: transparent !important; /* Keep transparent on hover */
                }
                
                body.promo-site #promo-box .oneliner-command code {
                    font-size: 0.8em !important; /* Much smaller font for mobile */
                    color: #cccccc !important; /* Lighter color since no background */
                }
                
                /* Style the oneliner installation section */
                body #promo-box .oneliner-install {
                    margin-top: 25px !important;
                    text-align: center !important;
                }
                
                body #promo-box .oneliner-text {
                    font-size: 1.2em !important;
                    color: #ccc !important;
                    margin-bottom: 12px !important;
                    font-weight: normal !important;
                }
                
                body #promo-box .oneliner-command {
                    background: rgba(255, 255, 255, 0.1) !important;
                    backdrop-filter: blur(10px) !important;
                    -webkit-backdrop-filter: blur(10px) !important;
                    border: 1px solid rgba(255, 255, 255, 0.2) !important;
                    border-radius: 12px !important;
                    padding: 16px 50px 16px 20px !important;
                    margin: 12px 0 !important;
                    cursor: pointer !important;
                    transition: all 0.3s ease !important;
                    position: relative !important;
                    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1) !important;
                }
                
                body #promo-box .oneliner-command:hover {
                    background: rgba(255, 255, 255, 0.15) !important;
                    border-color: rgba(255, 255, 255, 0.3) !important;
                    backdrop-filter: blur(15px) !important;
                    -webkit-backdrop-filter: blur(15px) !important;
                    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15) !important;
                }
                
                body #promo-box .oneliner-command code {
                    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Courier New', monospace !important;
                    font-size: 1.1em !important;
                    color: #ffffff !important;
                    background: none !important;
                    padding: 0 !important;
                    word-break: break-all !important;
                    font-weight: 600 !important;
                }
                
                body #promo-box .copy-indicator {
                    position: absolute !important;
                    right: 15px !important;
                    top: 50% !important;
                    transform: translateY(-50%) !important;
                    color: #cccccc !important;
                    transition: all 0.3s ease !important;
                    opacity: 0.7 !important;
                }
                
                body #promo-box .copy-indicator:hover {
                    opacity: 1 !important;
                    color: #ffffff !important;
                }
            }
            
            /* Smaller devices - still big text but adjusted */
            @media screen and (max-width: 480px) {
                body #promo-box {
                    width: calc(100vw - 20px) !important;
                    padding: 40px 25px !important;
                }
                
                body #promo-box h1 {
                    font-size: 3em !important;
                }
                
                body #promo-box p {
                    font-size: 1.7em !important;
                }
                
                body #promo-box .promo-cta a.button-promo {
                    font-size: 1.5em !important;
                }
            }

            /* COMPLETELY BLOCK wallart mode on promo site - removed, now handled by server config */

            /* IMPORTANT: Let main site CSS handle all mode visibility */
            /* All modes (cinema, wallart, screensaver) should work identically to main site */

            /* FORCE cinema mode controls to stay hidden on promo site */
            body.cinema-mode #controls-container,
            body.cinema-mode #controls-container.visible {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
            }

            /* Show controls on promo site only when NOT in cinema mode */
            body.promo-site:not(.cinema-mode) #controls-container.visible {
                display: flex !important;
                flex-direction: row !important;
                gap: 15px !important;
                visibility: visible !important;
                opacity: 1 !important;
            }

            /* IMPORTANT: Let main site CSS handle clock visibility based on mode */
            /* Clock should only be visible in screensaver mode, not cinema or wallart */

            /* Let main site CSS handle all layer and info-container animations */
            /* DON'T force visibility on layers - they need to transition */

            /* PROMO SITE SPECIFIC: Ensure clock is positioned correctly ONLY in screensaver mode */
            body.promo-site.screensaver-mode #clock-widget-container {
                position: fixed !important;
                top: 30px !important;
                left: 50px !important;
                z-index: 10 !important;
                display: block !important;
            }

            /* Ensure promo box doesn't interfere with clock positioning */
            body.promo-site #promo-box {
                z-index: 99999 !important;
            }
        </style>

        <script>
            // Copy to clipboard function for the oneliner
            function copyToClipboard(element) {
                const code = element.querySelector('code').textContent;
                navigator.clipboard.writeText(code).then(() => {
                    const indicator = element.querySelector('.copy-indicator');
                    const originalSVG = indicator.innerHTML;
                    indicator.innerHTML = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>`;
                    setTimeout(() => {
                        indicator.innerHTML = originalSVG;
                    }, 2000);
                }).catch(() => {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = code;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    const indicator = element.querySelector('.copy-indicator');
                    const originalSVG = indicator.innerHTML;
                    indicator.innerHTML = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>`;
                    setTimeout(() => {
                        indicator.innerHTML = originalSVG;
                    }, 2000);
                });
            }

            // Minimal promo site setup - don't interfere with main app modes
            function setupPromoSite() {
                // Only add promo-site class, let main app handle mode classes
                document.body.classList.add('promo-site');

                // Show promo box only
                const promoBox = document.getElementById('promo-box');
                if (promoBox) {
                    promoBox.style.display = 'block';
                    promoBox.style.opacity = '1';
                    promoBox.style.visibility = 'visible';
                    promoBox.classList.remove('is-hidden');
                    
                    // Make promo box optimal size with big text on mobile devices
                    if (window.innerWidth <= 1024) {
                        // Force body settings for full width
                        document.body.style.margin = '0';
                        document.body.style.padding = '0';
                        document.body.style.overflowX = 'hidden';
                        
                        // Force promo box to almost full width for maximum text space
                        promoBox.style.width = 'calc(100vw - 10px)'; /* Almost full width */
                        promoBox.style.maxWidth = 'none';
                        promoBox.style.padding = '50px 15px'; /* Much more vertical padding for breathing room */
                        promoBox.style.minHeight = 'auto'; /* Let content determine height */
                        promoBox.style.boxSizing = 'border-box';
                        promoBox.style.margin = '0 5px'; /* Minimal margin on each side */
                        promoBox.style.position = 'relative';
                        promoBox.style.left = '50%';
                        promoBox.style.right = 'auto';
                        promoBox.style.transform = 'translateX(-50%)'; /* Perfect centering */
                        promoBox.style.marginLeft = '0';
                        promoBox.style.marginRight = '0';
                    }
                }

                // Setup controls auto-hide (one time only) - but respect cinema mode
                const controlsContainer = document.getElementById('controls-container');
                if (controlsContainer && !window._controlsSetup) {
                    window._controlsSetup = true;

                    let controlsTimer = null;

                    function showControls() {
                        // Don't show controls in cinema mode
                        if (document.body.classList.contains('cinema-mode')) {
                            return;
                        }
                        controlsContainer.classList.add('visible');
                        document.body.style.cursor = 'default';
                        clearTimeout(controlsTimer);
                        controlsTimer = setTimeout(() => {
                            controlsContainer.classList.remove('visible');
                            document.body.style.cursor = 'none';
                        }, 3000);
                    }

                    document.body.addEventListener('mousemove', showControls);
                    document.body.addEventListener('touchstart', showControls, { passive: true });
                    
                    // Only show controls initially if not in cinema mode
                    if (!document.body.classList.contains('cinema-mode')) {
                        showControls();
                    }
                }

                // IMPORTANT: Let the main script handle clock initialization
                // We just ensure the promo site doesn't interfere
                
                // Debug: Check if clock elements exist and are being updated
                setTimeout(() => {
                    const timeHours = document.getElementById('time-hours');
                    const timeMinutes = document.getElementById('time-minutes');
                    if (timeHours && timeMinutes) {
                        // If clock elements are empty after 2 seconds, manually trigger update
                        if (!timeHours.textContent || !timeMinutes.textContent) {
                            // Try to call main app's updateClock if it exists
                            if (window.updateClock && typeof window.updateClock === 'function') {
                                window.updateClock();
                            }
                        }
                    }
                }, 2000);
            }

            // Let main app handle all mode switching
            // Promo site shows promo box on top of any mode

            // Initialize
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', setupPromoSite);
            } else {
                setupPromoSite();
            }

            // Delay setup to let main script initialize first
            window.addEventListener('load', () => {
                setTimeout(setupPromoSite, 100);
            });

            // Very minimal check - ensure promo-site class stays
            setInterval(() => {
                if (!document.body.classList.contains('promo-site')) {
                    document.body.classList.add('promo-site');
                    setupPromoSite(); // Re-ensure promo box is visible
                }
            }, 15000);
        </script>
    </head>
    <body>
        <div id="loader" style="display: none">
            <div class="poster-loader"></div>
            <div class="loader-text">Loading...</div>
            <div class="loader-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
        <div id="error-message" class="is-hidden"></div>

        <main id="promo-box" class="is-hidden" style="display: none">
            <header class="promo-logo">
                <svg
                    role="img"
                    aria-label="Posterrama Digital Movie Poster App Logo"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                >
                    <path d="M6 2H16L14 22H4L6 2Z" />
                    <path d="M10 2H20L18 22H8L10 2Z" style="mix-blend-mode: screen; opacity: 0.6" />
                </svg>
            </header>
            <h1>Bring your media library to life.</h1>
            <p>
                This is <span class="promo-brand-name">Posterrama</span>, a stunning, self-hosted
                digital movie<span class="movie-extensions">+ music & games</span> poster app that
                transforms your screens into personal cinemas and elegant screensavers.
            </p>

            <!-- Hidden SEO content -->
            <div class="seo-content" style="position: absolute; left: -9999px; top: -9999px">
                <h2>Features</h2>
                <ul>
                    <li>Digital movie poster displays for home theaters</li>
                    <li>Cinema mode for portrait orientation screens</li>
                    <li>Beautiful screensavers from your media collection</li>
                    <li>Self-hosted media management</li>
                    <li>Plex media server integration</li>
                    <li>Multi-screen support for digital signage</li>
                    <li>Responsive design for all devices</li>
                    <li>Open source and free to use</li>
                </ul>

                <h2>Perfect for</h2>
                <ul>
                    <li>Home theater enthusiasts</li>
                    <li>Media room displays</li>
                    <li>Digital signage projects</li>
                    <li>Plex server companions</li>
                    <li>Movie collection showcases</li>
                    <li>Personal cinema setups</li>
                </ul>
            </div>

            <section class="promo-cta">
                <a
                    href="https://github.com/Posterrama/posterrama"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="button-promo"
                    aria-label="Download Posterrama from GitHub"
                >
                    <i class="fab fa-github"></i>
                    Get it on GitHub
                </a>
                
                <!-- One-liner installation section -->
                <div class="oneliner-install">
                    <p class="oneliner-text">Install instantly with one command:</p>
                    <div class="oneliner-command" onclick="copyToClipboard(this)">
                        <code>curl -fsSL https://raw.githubusercontent.com/Posterrama/posterrama/main/install.sh | bash</code>
                        <span class="copy-indicator">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="m5 15H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2"></path>
                            </svg>
                        </span>
                    </div>
                </div>
            </section>
        </main>

        <div id="layer-a" class="screensaver-layer"></div>
        <div id="layer-b" class="screensaver-layer"></div>
        <div id="background-image"></div>

        <div id="clock-widget-container">
            <div id="time-widget">
                <span id="time-hours"></span>
                <span id="time-separator">:</span>
                <span id="time-minutes"></span>
            </div>
        </div>

        <div id="clearlogo-container">
            <img id="clearlogo" src="" alt="ClearLogo" />
        </div>

        <div id="info-container">
            <div id="poster-wrapper">
                <a id="poster-link" href="#" target="_blank">
                    <div id="poster-a" class="poster-layer"></div>
                    <div id="poster-b" class="poster-layer"></div>
                    <div id="poster"></div>
                </a>
            </div>
            <div id="text-wrapper">
                <h1 id="title"></h1>
                <p id="tagline"></p>
                <div id="meta-info">
                    <span id="year"></span>
                    <span id="rating"></span>
                </div>
            </div>
        </div>

        <div id="controls-container">
            <button id="prev-button" aria-label="Previous">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                </svg>
            </button>
            <button id="pause-button" aria-label="Pause/Resume">
                <svg
                    class="icon-pause"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                >
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
                <svg
                    class="icon-play"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                >
                    <path d="M8 5v14l11-7z" />
                </svg>
            </button>
            <button id="next-button" aria-label="Next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z" />
                </svg>
            </button>
        </div>

        <div id="branding-container">
            <a
                href="https://posterrama.app"
                target="_blank"
                rel="noopener noreferrer"
                title="posterrama.app"
            >
                <svg
                    role="img"
                    aria-label="posterrama.app Logo"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                >
                    <path d="M6 2H16L14 22H4L6 2Z" />
                    <path d="M10 2H20L18 22H8L10 2Z" style="mix-blend-mode: screen; opacity: 0.6" />
                </svg>
            </a>
        </div>

        <script src="script.js?v=20250822a"></script>
    </body>
</html>
